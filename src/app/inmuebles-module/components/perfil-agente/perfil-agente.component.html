<div class="container pt-5 px-5">
  <div class="row mb-4">
    <div class="col">
      <span class="h1 me-4 font-playfair">Perfil del agente</span>
    </div>
  </div>

  <div *ngIf="isLoading" class="d-flex justify-content-center">
    <div style="width: 3rem; height: 3rem;" class="spinner-grow text-warning" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>

  <div  *ngIf="usuario">


  <div class="row mb-5 justify-content-center">
    <div class="col-3">
      <img [src]="profileUrl | async" class="rounded-circle float-end image-resize shadow" height="150px" width="150px" alt="">
    </div>

    <div class="col-4 align-self-center">
      <h2>{{ usuario.nombre }} {{ usuario.apellido }}</h2>
      <h5 class="text-muted">{{ usuario.titulo }}</h5>
      <!-- <div class="mb-3">
        <label for="formFileSm" class="form-label">Small file input example</label>
        <input (change)="uploadFile($event)" class="form-control form-control-sm" id="formFileSm" type="file">
      </div> -->
    <!-- <div>{{ uploadPercent | async }}</div> -->
    <!-- <a [href]="downloadURL | async">{{ downloadURL | async }}</a> -->
    </div>
  </div>
  <div class="row mb-4 g-5">
    <div class="col-12 col-xl-6">
      <div class="rounded shadow pb-2">
        <div class="h3 font-playfair rounded-top text-white fondo-dorado bg-gradient py-3 mb-3 px-4">Datos personales</div>
        <div class="px-4">
          <p>
            Agente ubicado en la ciudad de {{ usuario.ciudad }}, estado {{ usuario.estado }}, {{ usuario.pais }}.
          </p>

          <p *ngIf="usuario.infoAdicional"><span class="fw-bold">Información adicional: </span>{{ usuario.infoAdicional }}</p>
        </div>
      </div>

    </div>
    <div class="col-12 col-xl-6">
      <div class="rounded shadow pb-2">
        <div class="h3 font-playfair rounded-top text-white fondo-dorado bg-gradient py-3 mb-3 px-4">Información de contacto</div>
        <div class="px-4">
          <p><span class="fw-bold">Email: </span>{{ usuario.email }}</p>
          <p *ngIf="usuario.telefono1"><span class="fw-bold">Teléfono: </span>{{ usuario.telefono1 }}</p>
          <p *ngIf="usuario.telefono2"><span class="fw-bold">Teléfono secundario: </span>{{ usuario.telefono2 }}</p>
        </div>
      </div>

    </div>
  </div>
  <div class="row">
    <div class="col pt-5 ps-4 pe-4">
      <h1 class="mb-4 font-playfair">Inmuebles del agente:</h1>
      <div class="row row-cols-1 row-cols-md-auto justify-content-evenly">
        <!-- row row-cols-1 row-cols-sm-2 row-cols-md-3 rows-cols-lg-4 -->
        <div *ngFor="let inmueble of inmuebles; let i = index" class="col mb-4">
          <app-card [inmueble]="inmueble" [i]="i"></app-card>
        </div>
      </div>

    </div>
  </div>
</div>
</div>

